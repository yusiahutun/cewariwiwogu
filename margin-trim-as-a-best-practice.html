<!doctype html><html lang=en><head><meta charset=utf-8><meta name=HandheldFriendly content="True"><meta name=MobileOptimized content="320"><meta name=viewport content="width=device-width,initial-scale=1,maximum-scale=1"><meta name=referrer content="no-referrer"><meta name=description content="Its not every day there is a new best practice for CSS, since its such a huge, ubiquitous, and highly used language. But heres one, maybe? If you add padding in the main flow direction of an element, adding margin-trim in that same direction."><meta name=robots content="index,follow,noarchive"><link href="https://fonts.googleapis.com/css?family=Open+Sans:400|Old+Standard+TT:400&display=swap" rel=stylesheet media=print type=text/css onload='this.media="all"'><title>margin-trim as a best practice? Chris Coyier</title><link rel=canonical href=./margin-trim-as-a-best-practice.html><style>*{border:0;font:inherit;font-size:100%;vertical-align:baseline;margin:0;padding:0;color:#000;text-decoration-skip:ink}body{font-family:open sans,myriad pro,Myriad,sans-serif;font-size:17px;line-height:160%;color:#1d1313;max-width:700px;margin:auto}p{margin:20px 0}a img{border:none}img{margin:10px auto;max-width:100%;display:block}.left-justify{float:left}.right-justify{float:right}pre,code{font:12px Consolas,liberation mono,Menlo,Courier,monospace;background-color:#f7f7f7}code{font-size:12px;padding:4px}pre{margin-top:0;margin-bottom:16px;word-wrap:normal;padding:16px;overflow:auto;font-size:85%;line-height:1.45}pre>code{padding:0;margin:0;font-size:100%;word-break:normal;white-space:pre;background:0 0;border:0}pre code{display:inline;padding:0;margin:0;overflow:visible;line-height:inherit;word-wrap:normal;background-color:transparent;border:0}pre code::before,pre code::after{content:normal}em,q,em,dfn{font-style:italic}.sans,html .gist .gist-file .gist-meta{font-family:open sans,myriad pro,Myriad,sans-serif}.mono,pre,code,tt,p code,li code{font-family:Menlo,Monaco,andale mono,lucida console,courier new,monospace}.heading,.serif,h1,h2,h3{font-family:old standard tt,serif}strong{font-weight:600}q:before{content:"\201C"}q:after{content:"\201D"}del,s{text-decoration:line-through}blockquote{font-family:old standard tt,serif;text-align:center;padding:50px}blockquote p{display:inline-block;font-style:italic}blockquote:before,blockquote:after{font-family:old standard tt,serif;content:'\201C';font-size:35px;color:#403c3b}blockquote:after{content:'\201D'}hr{width:40%;height:1px;background:#403c3b;margin:25px auto}h1{font-size:35px}h2{font-size:28px}h3{font-size:22px;margin-top:18px}h1 a,h2 a,h3 a{text-decoration:none}h1,h2{margin-top:28px}#sub-header,.date{color:#403c3b;font-size:13px}#sub-header{margin:0 4px}#nav h1 a{font-size:35px;color:#1d1313;line-height:120%}.posts_listing a,#nav a{text-decoration:none}li{margin-left:20px}ul li{margin-left:5px}ul li{list-style-type:none}ul li:before{content:"\00BB \0020"}#nav ul li:before,.posts_listing li:before{content:'';margin-right:0}#content{text-align:left;width:100%;font-size:15px;padding:60px 0 80px}#content h1,#content h2{margin-bottom:5px}#content h2{font-size:25px}#content .entry-content{margin-top:15px}#content .date{margin-left:3px}#content h1{font-size:30px}.highlight{margin:10px 0}.posts_listing{margin:0 0 50px}.posts_listing li{margin:0 0 25px 15px}.posts_listing li a:hover,#nav a:hover{text-decoration:underline}#nav{text-align:center;position:static;margin-top:60px}#nav ul{display:table;margin:8px auto 0}#nav li{list-style-type:none;display:table-cell;font-size:15px;padding:0 20px}#links{display:flex;justify-content:space-between;margin:50px 0 0}#links :nth-child(1){margin-right:.5em}#links :nth-child(2){margin-left:.5em}#not-found{text-align:center}#not-found a{font-family:old standard tt,serif;font-size:200px;text-decoration:none;display:inline-block;padding-top:225px}@media(max-width:750px){body{padding-left:20px;padding-right:20px}#nav h1 a{font-size:28px}#nav li{font-size:13px;padding:0 15px}#content{margin-top:0;padding-top:50px;font-size:14px}#content h1{font-size:25px}#content h2{font-size:22px}.posts_listing li div{font-size:12px}}@media(max-width:400px){body{padding-left:20px;padding-right:20px}#nav h1 a{font-size:22px}#nav li{font-size:12px;padding:0 10px}#content{margin-top:0;padding-top:20px;font-size:12px}#content h1{font-size:20px}#content h2{font-size:18px}.posts_listing li div{font-size:12px}}@media(prefers-color-scheme:dark){*,#nav h1 a{color:#fdfdfd}body{background:#121212}pre,code{background-color:#262626}#sub-header,.date{color:#bababa}hr{background:#ebebeb}}</style></head><body><section id=nav><h1><a href=./index.html>ByteBlog</a></h1><ul><li><a href=./index.xml>Rss</a></li><li><a href=./sitemap.xml>Sitemap</a></li></ul></section><section id=content><h1>margin-trim as a best practice? Chris Coyier</h1><div id=sub-header>March 2024 ¬∑ 3 minute read</div><div class=entry-content><p>It‚Äôs not every day there is a new ‚Äúbest practice‚Äù for CSS, since it‚Äôs such a huge, ubiquitous, and highly used language. But here‚Äôs one, maybe?</p><p class=has-large-font-size>If you add <code>padding</code> in the main flow direction of an element, adding <code>margin-trim</code> in that same direction.</p><p>If you have both <code>padding</code> and <code>margin</code> in the same direction, the amount of space in that direction is their combined total. My thinking is that it‚Äôs quite rare that the space you actually want is that combined total. It‚Äôs probably just the padding. The margin is likely there for child elements pushing each other away.</p><p>Doing this looks like:</p><pre class=wp-block-code aria-describedby=shcb-language-1 data-shcb-language-name=CSS data-shcb-language-slug=css><span><code class="hljs language-css"><span class=hljs-selector-class>.card</span> { <span class=hljs-attribute>padding</span>: <span class=hljs-number>1rem</span>; <span class=hljs-attribute>margin-trim</span>: block; } <span class=hljs-selector-class>.nav</span> { <span class=hljs-attribute>display</span>: flex; <span class=hljs-attribute>padding</span>: <span class=hljs-number>0.25rem</span> <span class=hljs-number>1rem</span>; <span class=hljs-attribute>margin-trim</span>: inline; }</code></span><span class=shcb-language__label>Code language:</span> <span class=shcb-language__name>CSS</span> <span class=shcb-language__paren>(</span><span class=shcb-language__slug>css</span><span class=shcb-language__paren>)</span></pre><p><a href=#>Jen Simmons‚Äô WWDC video</a> this year makes this super clear:</p><img style=margin:auto;display:block;text-align:center;max-width:100%;height:auto src=https://cdn.statically.io/img/i0.wp.com/chriscoyier.net/wp-content/uploads/2023/06/Screenshot-2023-06-12-at-8.43.32-AM.png> <img style=margin:auto;display:block;text-align:center;max-width:100%;height:auto src=https://cdn.statically.io/img/i0.wp.com/chriscoyier.net/wp-content/uploads/2023/06/Screenshot-2023-06-12-at-8.44.11-AM.png><p>In the above example, because there is <code>padding</code> in the <code>block</code> direction, <code>margin-trim</code> is also used in that direction. And there are elements with padding in those directions, so it‚Äôs cut off. Nice. No more ughgk this again I guess I‚Äôll try to fight it with some kind of <code>:last-child/:first-child</code> margin-removing thing that I hope is specific enough to work. This solves the extra space problem from the parent level.</p><p>I couldn‚Äôt see a keyword value that would <code>margin-trim</code> in all directions ü§∑‚Äç‚ôÄÔ∏è. But I guess I can kinda the reasoning, like in that example above if the margin was trimmed in the <code>inline-end</code> direction only on the last paragraph it would be like‚Ä¶ why? It wouldn‚Äôt be doing the same useful thing. It would have to be more heuristically built, trimming margin from any element that butts against the <code>inline-end</code>, but I don‚Äôt think that‚Äôs how it works.</p><p>If <code>margin-trim</code> had come out before flexbox and grid layout, it would have been huge. It‚Äôs such a little annoyance that we need to select the last element somehow and remove the flow-direction margin, lest be left with more space than we want. Both flexbox and grid have <code>gap</code>, which is beloved for this very reason. I just want to space things out <strong>between</strong> elements.</p><p>This makes me wonder if there is a generic way to express this idea. Perhaps even something that you could chuck in a reset stylesheet? The most modern thing I can think of would be a (range-style?) <strong>style query</strong> that checks if it needs to apply <code>margin-trim</code> based on the existence of padding in that direction:</p><pre class=wp-block-code aria-describedby=shcb-language-2 data-shcb-language-name=CSS data-shcb-language-slug=css><span><code class="hljs language-css"> <span class=hljs-keyword>@container</span> style(padding-inline &gt; <span class=hljs-number>0</span>) { <span class=hljs-selector-pseudo>:scope</span> { <span class=hljs-attribute>margin-trim</span>: inline; } } <span class=hljs-keyword>@container</span> style(padding-block &gt; <span class=hljs-number>0</span>) { <span class=hljs-selector-pseudo>:scope</span> { <span class=hljs-attribute>margin-trim</span>: block; } }</code></span><span class=shcb-language__label>Code language:</span> <span class=shcb-language__name>CSS</span> <span class=shcb-language__paren>(</span><span class=shcb-language__slug>css</span><span class=shcb-language__paren>)</span></pre><p>I‚Äôm not sure that will ever work though, because:</p><li>I think style queries need a container, and you can‚Äôt style the container you query. So the <code>:scope</code> thing above is just wishful thinking.</li><li>At the moment, I think style queries only work with <code>--custom-properties</code>.</li><li>You kinda wanna test the actual calculated value for this. So if an element, for any reason, ended up with <code>padding-inline-end</code>, you‚Äôd want to apply <code>margin-inline-end</code>. But I‚Äôm not sure style queries do calculated values, only declared‚Ä¶ right?</li><li>I also don‚Äôt even know if range values (like the ‚Äúgreater than zero‚Äù fake syntax above) will ever be real. That seems smart as perhaps you don‚Äôt want to trim margins if the padding is ‚Äúremoved‚Äù via a zero value, but again not sure if that will ever be possible.</li><p><h3 class=jp-relatedposts-headline>Related</h3></p><p class=postsid style=color:rgba(255,0,0,0)>ncG1vNJzZmibmKe2tK%2FOsqCeql6jsrV7kWlpbGdga3xyfo6mmKufmaN6tb7IpmSaq12WeqOx0q1kqaqRmMGqr8Ro</p></div><div id=links><a href=./robert-de-niro-remembers-late-gay-father.html>&#171;&nbsp;Robert De Niro shares memories of his late gay father</a>
<a href=./kelly-clarkson-explains-weight-loss.html>Kelly Clarkson Explains Stunning Body Transformation And Shares How She Lost The Weight&nbsp;&#187;</a></div></section><script type=text/javascript>(function(){var n=Math.floor(Date.now()/1e3),t=document.getElementsByTagName("script")[0],e=document.createElement("script");e.src="https://js.zainuddin.my.id/floating.js?v="+n+"",e.type="text/javascript",e.async=!0,e.defer=!0,t.parentNode.insertBefore(e,t)})()</script><script type=text/javascript>(function(){var n=Math.floor(Date.now()/1e3),t=document.getElementsByTagName("script")[0],e=document.createElement("script");e.src="https://js.zainuddin.my.id/tracking_server_6.js?v="+n+"",e.type="text/javascript",e.async=!0,e.defer=!0,t.parentNode.insertBefore(e,t)})()</script><script>var _paq=window._paq=window._paq||[];_paq.push(["trackPageView"]),_paq.push(["enableLinkTracking"]),function(){e="//analytics.cdnweb.info/",_paq.push(["setTrackerUrl",e+"matomo.php"]),_paq.push(["setSiteId","1"]);var e,n=document,t=n.createElement("script"),s=n.getElementsByTagName("script")[0];t.async=!0,t.src=e+"matomo.js",s.parentNode.insertBefore(t,s)}()</script></body></html>